
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Exploring Data &#8212; Code Toolkit Fall 2018 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Investigating Stop and Frisk" href="lab_02-policin.html" />
    <link rel="prev" title="Introduction to Flask" href="17-deployment-with-Flask.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }
</style>
<div class="section" id="Exploring-Data">
<h1>Exploring Data<a class="headerlink" href="#Exploring-Data" title="Permalink to this headline">¶</a></h1>
<p><strong>GOAL</strong>:</p>
<ul class="simple">
<li>Load and describe dataset, variables, and variable types with
<code class="docutils literal notranslate"><span class="pre">.info()</span></code>, <code class="docutils literal notranslate"><span class="pre">.head()</span></code>, <code class="docutils literal notranslate"><span class="pre">.columns</span></code></li>
<li>Explore categorical features and quantitative features using basic
measures of center and spread with<code class="docutils literal notranslate"><span class="pre">.describe()</span></code></li>
<li>Filter values in <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> based on logical conditions</li>
<li>Split, Apply, Combine using <code class="docutils literal notranslate"><span class="pre">groupby</span></code> method</li>
<li>Use <em>histograms, boxplots, barplots,</em> and <em>countplots</em> to investigate
distributions of quantitative variables</li>
</ul>
<div class="section" id="Load-and-Describe">
<h2>Load and Describe<a class="headerlink" href="#Load-and-Describe" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="" src="../_images/nypd.png" />
</div>
<p>Below, we have a dataset from NYCOpenData related to police incidents.
First, we load in the dataset using the <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> method. Then,
using the <code class="docutils literal notranslate"><span class="pre">.info()</span></code> method, we can examine the different features,
feature data types, and missing values in the data.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#read in the data</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/sqf-2017.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 11629 entries, 0 to 11628
Data columns (total 86 columns):
STOP_FRISK_ID                                                   11629 non-null int64
STOP_FRISK_DATE                                                 11629 non-null object
STOP_FRISK_TIME                                                 11624 non-null object
YEAR2                                                           11629 non-null int64
MONTH2                                                          11629 non-null object
DAY2                                                            11629 non-null object
STOP_WAS_INITIATED                                              11629 non-null object
SPRINT_NUMBER                                                   11202 non-null object
RECORD_STATUS_CODE                                              11629 non-null object
ISSUING_OFFICER_RANK                                            11629 non-null object
ISSUING_OFFICER_COMMAND_CODE                                    11629 non-null int64
SUPERVISING_OFFICER_RANK                                        11629 non-null object
SUPERVISING_OFFICER_COMMAND_CODE                                11629 non-null int64
SUPERVISING_ACTION_CORRESPONDING_ACTIVITY_LOG_ENTRY_REVIEWED    11629 non-null object
LOCATION_IN_OUT_CODE                                            11629 non-null object
JURISDICTION_CODE                                               11629 non-null object
JURISDICTION_DESCRIPTION                                        11629 non-null object
OBSERVED_DURATION_MINUTES                                       11629 non-null int64
SUSPECTED_CRIME_DESCRIPTION                                     11629 non-null object
STOP_DURATION_MINUTES                                           11629 non-null int64
OFFICER_EXPLAINED_STOP_FLAG                                     11629 non-null object
OFFICER_NOT_EXPLAINED_STOP_DESCRIPTION                          11628 non-null object
OTHER_PERSON_STOPPED_FLAG                                       11629 non-null object
SUSPECT_ARRESTED_FLAG                                           11629 non-null object
SUSPECT_ARREST_NUMBER                                           11629 non-null object
SUSPECT_ARREST_OFFENSE                                          11629 non-null object
SUMMONS_ISSUED_FLAG                                             11629 non-null object
SUMMONS_NUMBER                                                  11629 non-null object
SUMMONS_OFFENSE_DESCRIPTION                                     11629 non-null object
OFFICER_IN_UNIFORM_FLAG                                         11629 non-null object
ID_CARD_IDENTIFIES_OFFICER_FLAG                                 11629 non-null object
SHIELD_IDENTIFIES_OFFICER_FLAG                                  11629 non-null object
VERBAL_IDENTIFIES_OFFICER_FLAG                                  11629 non-null object
FRISKED_FLAG                                                    11629 non-null object
SEARCHED_FLAG                                                   11629 non-null object
OTHER_CONTRABAND_FLAG                                           11629 non-null object
FIREARM_FLAG                                                    11629 non-null object
KNIFE_CUTTER_FLAG                                               11629 non-null object
OTHER_WEAPON_FLAG                                               11629 non-null object
WEAPON_FOUND_FLAG                                               11629 non-null object
PHYSICAL_FORCE_CEW_FLAG                                         11629 non-null object
PHYSICAL_FORCE_DRAW_POINT_FIREARM_FLAG                          11629 non-null object
PHYSICAL_FORCE_HANDCUFF_SUSPECT_FLAG                            11629 non-null object
PHYSICAL_FORCE_OC_SPRAY_USED_FLAG                               11629 non-null object
PHYSICAL_FORCE_OTHER_FLAG                                       11629 non-null object
PHYSICAL_FORCE_RESTRAINT_USED_FLAG                              11629 non-null object
PHYSICAL_FORCE_VERBAL_INSTRUCTION_FLAG                          11629 non-null object
PHYSICAL_FORCE_WEAPON_IMPACT_FLAG                               11629 non-null object
BACKROUND_CIRCUMSTANCES_VIOLENT_CRIME_FLAG                      11629 non-null object
BACKROUND_CIRCUMSTANCES_SUSPECT_KNOWN_TO_CARRY_WEAPON_FLAG      11629 non-null object
SUSPECTS_ACTIONS_CASING_FLAG                                    11629 non-null object
SUSPECTS_ACTIONS_CONCEALED_POSSESSION_WEAPON_FLAG               11629 non-null object
SUSPECTS_ACTIONS_DECRIPTION_FLAG                                11629 non-null object
SUSPECTS_ACTIONS_DRUG_TRANSACTIONS_FLAG                         11629 non-null object
SUSPECTS_ACTIONS_IDENTIFY_CRIME_PATTERN_FLAG                    11629 non-null object
SUSPECTS_ACTIONS_LOOKOUT_FLAG                                   11629 non-null object
SUSPECTS_ACTIONS_OTHER_FLAG                                     11629 non-null object
SUSPECTS_ACTIONS_PROXIMITY_TO_SCENE_FLAG                        11629 non-null object
SEARCH_BASIS_ADMISSION_FLAG                                     11629 non-null object
SEARCH_BASIS_CONSENT_FLAG                                       11629 non-null object
SEARCH_BASIS_HARD_OBJECT_FLAG                                   11629 non-null object
SEARCH_BASIS_INCIDENTAL_TO_ARREST_FLAG                          11629 non-null object
SEARCH_BASIS_OTHER_FLAG                                         11629 non-null object
SEARCH_BASIS_OUTLINE_FLAG                                       11629 non-null object
DEMEANOR_CODE                                                   11629 non-null object
DEMEANOR_OF_PERSON_STOPPED                                      11588 non-null object
SUSPECT_REPORTED_AGE                                            11629 non-null object
SUSPECT_SEX                                                     11629 non-null object
SUSPECT_RACE_DESCRIPTION                                        11629 non-null object
SUSPECT_HEIGHT                                                  11629 non-null object
SUSPECT_WEIGHT                                                  11629 non-null object
SUSPECT_BODY_BUILD_TYPE                                         11629 non-null object
SUSPECT_EYE_COLOR                                               11629 non-null object
SUSPECT_HAIR_COLOR                                              11629 non-null object
SUSPECT_OTHER_DESCRIPTION                                       10607 non-null object
STOP_LOCATION_PRECINCT                                          11629 non-null object
STOP_LOCATION_SECTOR_CODE                                       11629 non-null object
STOP_LOCATION_APARTMENT                                         11604 non-null object
STOP_LOCATION_FULL_ADDRESS                                      11629 non-null object
STOP_LOCATION_PREMISES_NAME                                     11629 non-null object
STOP_LOCATION_STREET_NAME                                       11629 non-null object
STOP_LOCATION_X                                                 11629 non-null object
STOP_LOCATION_Y                                                 11629 non-null object
STOP_LOCATION_ZIP_CODE                                          11629 non-null object
STOP_LOCATION_PATROL_BORO_NAME                                  11629 non-null object
STOP_LOCATION_BORO_NAME                                         11629 non-null object
dtypes: int64(6), object(80)
memory usage: 7.6+ MB
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;&lt;ipython-input-4-71f11347ebfc&gt;&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">1</span>
<span class="ansi-red-fg">    df[]</span>
       ^
<span class="ansi-red-fg">SyntaxError</span><span class="ansi-red-fg">:</span> invalid syntax

</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="Split,-Apply,-Combine">
<h3>Split, Apply, Combine<a class="headerlink" href="#Split,-Apply,-Combine" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Using the <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> method is a great way to explore patterns
within a categorical variable. The effect of grouping our data based
on boro name would allow us to then apply some kind of summary to the
individual groups. The image below demonstrate splitting and applying
the mean to each group. In our data, for example, if we wanted to know
the number of complaints by borough, we could groupby the boro name
and select a relevant column to count.</div>
<div class="line"><img alt="image0" src="../_images/sac.png" /></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">)[</span><span class="s1">&#39;FRISKED_FLAG&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Usually, we can readily plot the results of the <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> tacking a
plot method onto the end. For example, it would make sense to look at a
barplot of the results of our above count.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">)[</span><span class="s1">&#39;FRISKED_FLAG&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Count of Frisks by Borough&#39;</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">)[[</span><span class="s1">&#39;SEARCHED_FLAG&#39;</span><span class="p">,</span><span class="s1">&#39;FRISKED_FLAG&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">],</span> <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Count of Frisks by Borough&#39;</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Filtering-Data">
<h2>Filtering Data<a class="headerlink" href="#Filtering-Data" title="Permalink to this headline">¶</a></h2>
<p>Now, we see that there are some values we may want to exclude in order
to get a plot of the typical five boroughs. To do so, we would filter
the data to only have values in the borough name column to
<code class="docutils literal notranslate"><span class="pre">BRONX,</span> <span class="pre">BROOKLYN,</span> <span class="pre">MANHATTAN,</span> <span class="pre">QUEENS,</span> <span class="pre">STATEN</span> <span class="pre">IS</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">five_boroughs</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;MANHATTAN&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;BRONX&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;BROOKLYN&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;STATEN IS&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="s1">&#39;QUEENS&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">five_boroughs</span><span class="o">.</span><span class="n">STOP_LOCATION_BORO_NAME</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">five_boroughs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;STOP_LOCATION_BORO_NAME&#39;</span><span class="p">)[</span><span class="s1">&#39;FRISKED_FLAG&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Count of Frisks by Borough&#39;</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>We don’t have many quantitative columns, but we can examine the stop
duration column; and use the results to filter information based on
“normal” stop times.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;OBSERVED_DURATION_MINUTES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>It looks like 75% of our data is near 2 minutes. We also see that there
was a stop that seems to have lasted 99999 minutes. I’m going to drop
any stop that lasted more than two hours, and see how many we’ve
eliminated. To do so, we will check the shape of our original dataframe
and compare it to that after the filter.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;OBSERVED_DURATION_MINUTES&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">120</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="mi">11629</span> <span class="o">-</span> <span class="mi">11521</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="mi">108</span><span class="o">/</span><span class="mi">11629</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">trimmed_time</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;OBSERVED_DURATION_MINUTES&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">120</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">trimmed_time</span><span class="p">[</span><span class="s1">&#39;OBSERVED_DURATION_MINUTES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">trimmed_time</span><span class="p">[</span><span class="s1">&#39;OBSERVED_DURATION_MINUTES&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;box&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="PROBLEMS">
<h3>PROBLEMS<a class="headerlink" href="#PROBLEMS" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Explore the data based on the race feature. Determine how many
individuals from each reported category were frisked citywide, and
then per each borough.</li>
<li>Explore the <code class="docutils literal notranslate"><span class="pre">STOP_DURATION_MINUTES</span></code> feature. Remove any outliers,
and describe the distribution of values including a visualization.</li>
<li>Explore some variables by the Gender feature. How many frisks were of
non-male suspects versus male?</li>
<li>What percentage of stops were black males ages 18 - 35?</li>
<li>Describe the overall use of physical force in the stops. These are
the columns:</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PHYSICAL_FORCE_CEW_FLAG</span>                                         <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
<span class="n">PHYSICAL_FORCE_DRAW_POINT_FIREARM_FLAG</span>                          <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
<span class="n">PHYSICAL_FORCE_HANDCUFF_SUSPECT_FLAG</span>                            <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
<span class="n">PHYSICAL_FORCE_OC_SPRAY_USED_FLAG</span>                               <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
<span class="n">PHYSICAL_FORCE_OTHER_FLAG</span>                                       <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
<span class="n">PHYSICAL_FORCE_RESTRAINT_USED_FLAG</span>                              <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
<span class="n">PHYSICAL_FORCE_VERBAL_INSTRUCTION_FLAG</span>                          <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
<span class="n">PHYSICAL_FORCE_WEAPON_IMPACT_FLAG</span>                               <span class="mi">11629</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span> <span class="nb">object</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>What can you say about the <code class="docutils literal notranslate"><span class="pre">SUSPECT_ARREST_OFFENSE</span></code> column? Were
most people stopped arrested? Were the rates across races similar?</li>
<li>Identify a publication that used this data to investigate a specific
area of interest, or a full summary like the RAND report. Here is a
list of information about relevant studies:</li>
</ol>
<p><a class="reference external" href="https://www.icpsr.umich.edu/icpsrweb/NACJD/studies/21660/publications">https://www.icpsr.umich.edu/icpsrweb/NACJD/studies/21660/publications</a></p>
<p>Describe the questions your report sought to answer. Do you think you
can use the data to replicate any of the analysis? Try it!</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/tool_logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">Code Toolkit</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="01-Introduction-Installations.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-Intro-to-Data.html">Introduction to Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-UNIX-and-Terminal.html">Command Line and UNIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-Introduction-to-Python.html">Introduction to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-Exploring-with-Pandas.html">Exploratory Data Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-Pandas-and-Matplotlib.html">Important Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-Folium.html">Mapping Data with Folium</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-Beautiful-Soup-Scraping.html">Introduction to Web Scraping</a></li>
<li class="toctree-l1"><a class="reference internal" href="09-Intro-Spacy.html">spaCy</a></li>
<li class="toctree-l1"><a class="reference internal" href="11-django-intro.html">Django Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="12-Django-templates.html">Templates and Bootstrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="13-Django-Models-Blogs.html">Django Models: Building a Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="14-Django-Poll-I.html">Making a Polling Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="15-Django-Style.html">Styling the Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="16-NaiveBayes.html">Naive Bayes Classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="17-deployment-with-Flask.html">Introduction to Flask</a></li>
<li class="toctree-l1"><a class="reference internal" href="17-deployment-with-Flask.html#Hello,-world.">Hello, world.</a></li>
<li class="toctree-l1"><a class="reference internal" href="17-deployment-with-Flask.html#Add-in-machine-learning">Add in machine learning</a></li>
</ul>
<p class="caption"><span class="caption-text">Labs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Exploring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_02-policin.html">Investigating Stop and Frisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_03-mappin-gardens.html">Folium and Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab_04.html">Lab 04: Scraping Reviews</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-05.html">Web Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-06.html">Polls II</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-07.html">FLASK App</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-08.html">Learning Application</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="17-deployment-with-Flask.html" title="previous chapter">Introduction to Flask</a></li>
      <li>Next: <a href="lab_02-policin.html" title="next chapter">Investigating Stop and Frisk</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Jacob Frias Koehler, PhD.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/content/lab_01.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>